(()=>{"use strict";const e=window.React,t=window.wp.blocks,a=window.wp.blockEditor,l=window.wp.components,o=({title:t="Typography",attributes:o,setAttributes:n,prefix:i="",showSize:r=!0,showWeight:c=!0,showTracking:s=!0,showColor:g=!0})=>{const m=(0,a.useSetting)("color.palette"),u=(0,a.useSetting)("typography.fontSizes");return(0,e.createElement)(l.PanelBody,{title:t,initialOpen:!1},g&&(0,e.createElement)(a.PanelColorSettings,{colorSettings:[{value:o[`${i}Color`],onChange:e=>n({[`${i}Color`]:e}),label:"Color",colors:m}]}),r&&(0,e.createElement)(a.FontSizePicker,{value:o[`${i}Size`],onChange:e=>n({[`${i}Size`]:e}),fontSizes:u,withReset:!1}),c&&(0,e.createElement)(l.SelectControl,{label:"Font Weight",value:o[`${i}Weight`],options:[{label:"Light",value:"var(--wp--custom--font-weight--light)"},{label:"Normal",value:"var(--wp--custom--font-weight--normal)"},{label:"Medium",value:"var(--wp--custom--font-weight--medium)"},{label:"Semibold",value:"var(--wp--custom--font-weight--semibold)"},{label:"Bold",value:"var(--wp--custom--font-weight--bold)"},{label:"Extra Bold",value:"var(--wp--custom--font-weight--extrabold)"}],onChange:e=>n({[`${i}Weight`]:e})}),s&&(0,e.createElement)(l.SelectControl,{label:"Letter Spacing",value:o[`${i}Tracking`],options:[{label:"Tighter",value:"var(--wp--custom--letter-spacing--tighter)"},{label:"Tight",value:"var(--wp--custom--letter-spacing--tight)"},{label:"Normal",value:"var(--wp--custom--letter-spacing--normal)"},{label:"Wide",value:"var(--wp--custom--letter-spacing--wide)"},{label:"Wider",value:"var(--wp--custom--letter-spacing--wider)"},{label:"Widest",value:"var(--wp--custom--letter-spacing--widest)"}],onChange:e=>n({[`${i}Tracking`]:e})}))},n=({title:t="Spacing",attributes:a,setAttributes:o,showPadding:n=!0,showMargin:i=!1,showMinHeight:r=!1,minHeightMin:c=200,minHeightMax:s=800})=>(0,e.createElement)(l.PanelBody,{title:t,initialOpen:!1},n&&(0,e.createElement)(l.__experimentalBoxControl,{label:"Padding",values:a.padding,onChange:e=>o({padding:e})}),i&&(0,e.createElement)(l.__experimentalBoxControl,{label:"Margin",values:a.margin,onChange:e=>o({margin:e})}),r&&(0,e.createElement)(l.RangeControl,{label:"Minimum Height",value:a.minHeight,onChange:e=>o({minHeight:e}),min:c,max:s,step:10})),i=({attributes:t,setAttributes:o,showImage:n=!0,showColor:i=!0,showOverlay:r=!0})=>{const c=(0,a.useSetting)("color.palette");return(0,e.createElement)(e.Fragment,null,(n||i)&&(0,e.createElement)(l.PanelBody,{title:"Background",initialOpen:!1},n&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>o({backgroundImage:e.url,backgroundImageId:e.id}),allowedTypes:["image"],value:t.backgroundImageId,render:({open:a})=>(0,e.createElement)(l.Button,{onClick:a,variant:"secondary"},t.backgroundImage?"Change Background Image":"Select Background Image")})),t.backgroundImage&&(0,e.createElement)(l.Button,{onClick:()=>o({backgroundImage:"",backgroundImageId:0}),variant:"link",isDestructive:!0,style:{marginTop:"8px"}},"Remove Background Image")),i&&!t.backgroundImage&&(0,e.createElement)(a.PanelColorSettings,{colorSettings:[{value:t.backgroundColor,onChange:e=>o({backgroundColor:e}),label:"Background Color",colors:c}]})),r&&(0,e.createElement)(l.PanelBody,{title:"Overlay",initialOpen:!1},(0,e.createElement)(a.PanelColorSettings,{title:"Overlay Settings",colorSettings:[{value:t.overlayColor,onChange:e=>o({overlayColor:e}),label:"Overlay Color",colors:c}]},(0,e.createElement)(l.RangeControl,{label:"Overlay Opacity",value:t.overlayOpacity,onChange:e=>o({overlayOpacity:e}),min:0,max:100,step:5}))))};(0,t.registerBlockType)("miblocks/cta-section",{edit:({attributes:t,setAttributes:r})=>{const{title:c,titleColor:s,titleSize:g,titleWeight:m,titleTracking:u,description:d,descriptionColor:p,descriptionSize:b,descriptionWeight:h,descriptionTracking:v,backgroundColor:w,backgroundImage:C,backgroundImageId:E,overlayColor:y,overlayOpacity:k,padding:S,buttonText:I,buttonUrl:B}=t,T=(0,a.useBlockProps)({className:"cta-section",style:{"--cta-title-color":s,"--cta-title-size":g,"--cta-title-weight":m,"--cta-title-tracking":u,"--cta-description-color":p,"--cta-description-size":b,"--cta-description-weight":h,"--cta-description-tracking":v,"--cta-bg-color":w,"--cta-overlay-color":y,"--cta-overlay-opacity":k/100,"--cta-padding-top":S?.top||"4rem","--cta-padding-right":S?.right||"2rem","--cta-padding-bottom":S?.bottom||"4rem","--cta-padding-left":S?.left||"2rem"}});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(n,{attributes:t,setAttributes:r,showPadding:!0}),(0,e.createElement)(i,{attributes:t,setAttributes:r,showImage:!0,showColor:!0,showOverlay:!0}),(0,e.createElement)(o,{title:"Title Typography",attributes:t,setAttributes:r,prefix:"title"}),(0,e.createElement)(o,{title:"Description Typography",attributes:t,setAttributes:r,prefix:"description"}),(0,e.createElement)(l.PanelBody,{title:"Button Settings",initialOpen:!1},(0,e.createElement)(l.TextControl,{label:"Button Text",value:I,onChange:e=>r({buttonText:e})}),(0,e.createElement)(a.URLInput,{label:"Button URL",value:B,onChange:e=>r({buttonUrl:e})}))),(0,e.createElement)("div",{...T},(0,e.createElement)("div",{className:"cta-section__container",style:{backgroundImage:C?`url(${C})`:void 0}},C&&(0,e.createElement)("div",{className:"cta-section__overlay"}),(0,e.createElement)("div",{className:"cta-section__content"},(0,e.createElement)(a.RichText,{tagName:"h2",className:"cta-section__title",value:c,onChange:e=>r({title:e}),placeholder:"Enter title..."}),(0,e.createElement)(a.RichText,{tagName:"p",className:"cta-section__description",value:d,onChange:e=>r({description:e}),placeholder:"Enter description..."}),I&&(0,e.createElement)("div",{className:"cta-section__button-wrapper"},(0,e.createElement)("a",{href:B,className:"cta-section__button"},I))))))},save:()=>null})})();