{# Twig Demo Block Template #}

<div class="twig-demo-block" style="padding: {{ theme_spacing('40') }}; background: {{ semantic_color('bg-secondary') }}; border-radius: var(--wp--preset--border-radius--lg);">
    
    {% if fields.title %}
        <h2 style="color: {{ semantic_color('text-primary') }}; margin-bottom: {{ theme_spacing('30') }};">
            {{ fields.title|esc_html }}
        </h2>
    {% endif %}
    
    {% if fields.content %}
        <div style="color: {{ semantic_color('text-secondary') }}; margin-bottom: {{ theme_spacing('40') }};">
            {{ fields.content|wp_kses_post }}
        </div>
    {% endif %}
    
    {# Card Grid Layout #}
    {% if layout == 'cards' %}
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: {{ theme_spacing('30') }};">
            {% for i in 1..3 %}
                {{ component('card', {
                    title: 'Card ' ~ i,
                    content: 'This is a Twig-rendered card component using our semantic color system.',
                    variant: loop.index == 2 ? 'elevated' : 'default',
                    link: '#card-' ~ i
                }) }}
            {% endfor %}
        </div>
    
    {# Button Examples Layout #}
    {% elseif layout == 'buttons' %}
        <div style="display: flex; flex-wrap: wrap; gap: {{ theme_spacing('20') }};">
            {{ component('button', {
                text: 'Primary Button',
                variant: 'primary',
                size: 'medium'
            }) }}
            
            {{ component('button', {
                text: 'Secondary Button',
                variant: 'secondary',
                size: 'medium'
            }) }}
            
            {{ component('button', {
                text: 'Neutral Button',
                variant: 'neutral',
                size: 'medium'
            }) }}
            
            {{ component('button', {
                text: 'Large Primary',
                variant: 'primary',
                size: 'large'
            }) }}
            
            {{ component('button', {
                text: 'Small Secondary',
                variant: 'secondary',
                size: 'small'
            }) }}
        </div>
    
    {# Mixed Components Layout #}
    {% else %}
        <div style="display: grid; gap: {{ theme_spacing('40') }};">
            {# Hero-like section #}
            <div style="
                background: linear-gradient(135deg, {{ semantic_color('primary') }}, {{ semantic_color('primary-dark') }});
                color: {{ semantic_color('text-inverse') }};
                padding: {{ theme_spacing('50') }};
                border-radius: var(--wp--preset--border-radius--xl);
                text-align: center;
            ">
                <h3 style="font-size: var(--wp--preset--font-size--x-large); margin-bottom: {{ theme_spacing('20') }};">
                    Twig + WordPress = ❤️
                </h3>
                <p style="font-size: var(--wp--preset--font-size--medium); margin-bottom: {{ theme_spacing('30') }};">
                    Clean, maintainable templates with our semantic color system
                </p>
                {{ component('button', {
                    text: 'Learn More',
                    variant: 'secondary',
                    size: 'large',
                    url: '#learn-more'
                }) }}
            </div>
            
            {# Feature cards #}
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: {{ theme_spacing('30') }};">
                {{ component('card', {
                    title: 'Semantic Colors',
                    content: 'Using OKLCH color space with semantic naming for better maintainability.',
                    variant: 'outlined'
                }) }}
                
                {{ component('card', {
                    title: 'Component System',
                    content: 'Reusable Twig components that integrate with our theme design tokens.',
                    variant: 'elevated'
                }) }}
                
                {{ component('card', {
                    title: 'WordPress Integration',
                    content: 'Full access to WordPress functions and our custom theme helpers.',
                    variant: 'outlined'
                }) }}
            </div>
        </div>
    {% endif %}
    
    {# Show template code if enabled #}
    {% if fields.show_code %}
        <div style="margin-top: {{ theme_spacing('40') }}; padding: {{ theme_spacing('30') }}; background: {{ semantic_color('base-darkest') }}; border-radius: var(--wp--preset--border-radius--md); overflow-x: auto;">
            <h4 style="color: {{ semantic_color('text-inverse') }}; margin-bottom: {{ theme_spacing('20') }};">Template Code Example:</h4>
            <pre style="color: #a8ff60; font-family: monospace; font-size: 14px; margin: 0;"><code>{{ "{{ component('button', {
    text: 'Click Me',
    variant: 'primary',
    size: 'medium',
    url: home_url('/contact')
}) }}" }}</code></pre>
        </div>
    {% endif %}
    
</div>
