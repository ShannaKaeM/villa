/**
 * Theme Integration CSS
 * Uses WordPress theme.json CSS variables
 * Works alongside Blocksy's customizer
 */

/* ==========================================================================
   Use Theme.json Variables
   ========================================================================== */

/* The theme.json file generates these CSS variables automatically:
   - Colors: var(--wp--preset--color--[slug])
   - Font Sizes: var(--wp--preset--font-size--[slug])
   - Spacing: var(--wp--preset--spacing--[slug])
   - Font Families: var(--wp--preset--font-family--[slug])
*/

/* ==========================================================================
   Dynamic Color Scales using OKLCH
   ========================================================================== */

:root {
  /* Base colors from theme.json converted to OKLCH for manipulation */
  --primary-base: oklch(56% 0.064 194);      /* #5a7f80 */
  --secondary-base: oklch(60% 0.089 64);     /* #a36b57 */
  --neutral-base: oklch(62% 0.051 73);       /* #9b8974 */
  --base-base: oklch(66% 0 0);               /* #9c9c9c */
  
  /* Generate full scales using OKLCH lightness adjustments */
  /* Primary Scale */
  --wp--preset--color--primary-50: oklch(from var(--primary-base) 95% c h);
  --wp--preset--color--primary-100: oklch(from var(--primary-base) 90% c h);
  --wp--preset--color--primary-200: oklch(from var(--primary-base) 80% c h);
  --wp--preset--color--primary-300: oklch(from var(--primary-base) 70% c h);
  --wp--preset--color--primary-400: oklch(from var(--primary-base) 60% c h);
  --wp--preset--color--primary-500: var(--primary-base);
  --wp--preset--color--primary-600: oklch(from var(--primary-base) 50% c h);
  --wp--preset--color--primary-700: oklch(from var(--primary-base) 40% c h);
  --wp--preset--color--primary-800: oklch(from var(--primary-base) 30% c h);
  --wp--preset--color--primary-900: oklch(from var(--primary-base) 20% c h);
  --wp--preset--color--primary-950: oklch(from var(--primary-base) 10% c h);
  
  /* Secondary Scale */
  --wp--preset--color--secondary-50: oklch(from var(--secondary-base) 95% c h);
  --wp--preset--color--secondary-100: oklch(from var(--secondary-base) 90% c h);
  --wp--preset--color--secondary-200: oklch(from var(--secondary-base) 80% c h);
  --wp--preset--color--secondary-300: oklch(from var(--secondary-base) 70% c h);
  --wp--preset--color--secondary-400: oklch(from var(--secondary-base) 65% c h);
  --wp--preset--color--secondary-500: var(--secondary-base);
  --wp--preset--color--secondary-600: oklch(from var(--secondary-base) 50% c h);
  --wp--preset--color--secondary-700: oklch(from var(--secondary-base) 40% c h);
  --wp--preset--color--secondary-800: oklch(from var(--secondary-base) 30% c h);
  --wp--preset--color--secondary-900: oklch(from var(--secondary-base) 20% c h);
  --wp--preset--color--secondary-950: oklch(from var(--secondary-base) 10% c h);
  
  /* Neutral Scale */
  --wp--preset--color--neutral-50: oklch(from var(--neutral-base) 95% c h);
  --wp--preset--color--neutral-100: oklch(from var(--neutral-base) 90% c h);
  --wp--preset--color--neutral-200: oklch(from var(--neutral-base) 80% c h);
  --wp--preset--color--neutral-300: oklch(from var(--neutral-base) 70% c h);
  --wp--preset--color--neutral-400: oklch(from var(--neutral-base) 65% c h);
  --wp--preset--color--neutral-500: var(--neutral-base);
  --wp--preset--color--neutral-600: oklch(from var(--neutral-base) 55% c h);
  --wp--preset--color--neutral-700: oklch(from var(--neutral-base) 45% c h);
  --wp--preset--color--neutral-800: oklch(from var(--neutral-base) 35% c h);
  --wp--preset--color--neutral-900: oklch(from var(--neutral-base) 25% c h);
  --wp--preset--color--neutral-950: oklch(from var(--neutral-base) 15% c h);
  
  /* Base (Gray) Scale - reduced chroma for true grays */
  --wp--preset--color--base-50: oklch(98% 0 0);
  --wp--preset--color--base-100: oklch(95% 0 0);
  --wp--preset--color--base-200: oklch(90% 0 0);
  --wp--preset--color--base-300: oklch(85% 0 0);
  --wp--preset--color--base-400: oklch(75% 0 0);
  --wp--preset--color--base-500: oklch(66% 0 0);
  --wp--preset--color--base-600: oklch(55% 0 0);
  --wp--preset--color--base-700: oklch(45% 0 0);
  --wp--preset--color--base-800: oklch(35% 0 0);
  --wp--preset--color--base-900: oklch(25% 0 0);
  --wp--preset--color--base-950: oklch(15% 0 0);
}

/* Fallback for browsers that don't support OKLCH yet */
@supports not (color: oklch(50% 0.2 150)) {
  :root {
    /* Use the hardcoded values from theme.json as fallback */
    --wp--preset--color--primary-50: #f0f4f4;
    --wp--preset--color--primary-100: #d9e3e3;
    --wp--preset--color--primary-200: #b3c7c8;
    --wp--preset--color--primary-300: #8dabac;
    --wp--preset--color--primary-400: #739596;
    --wp--preset--color--primary-500: #5a7f80;
    --wp--preset--color--primary-600: #4e6d6e;
    --wp--preset--color--primary-700: #425a5b;
    --wp--preset--color--primary-800: #364849;
    --wp--preset--color--primary-900: #2a3637;
    --wp--preset--color--primary-950: #1a2122;
  }
}

/* ==========================================================================
   Semantic Color System with OKLCH
   ========================================================================== */

:root {
  /* Core Theme Colors - Fine-tune these values */
  
  /* Primary Colors */
  --theme-primary-light: oklch(70% 0.045 194);   /* Adjust L% for lightness, C for vibrance */
  --theme-primary: oklch(56% 0.064 194);         /* Base primary */
  --theme-primary-dark: oklch(40% 0.075 194);    /* Boosted vibrance for depth */
  
  /* Secondary Colors */
  --theme-secondary-light: oklch(75% 0.065 64);  /* Softer, less vibrant */
  --theme-secondary: oklch(60% 0.089 64);        /* Base secondary */
  --theme-secondary-dark: oklch(45% 0.095 64);   /* Richer, more vibrant */
  
  /* Neutral Colors */
  --theme-neutral-light: oklch(75% 0.035 73);    /* Reduced vibrance for subtlety */
  --theme-neutral: oklch(62% 0.051 73);          /* Base neutral */
  --theme-neutral-dark: oklch(45% 0.055 73);     /* Slightly more vibrant */
  
  /* Base/Gray Colors */
  --theme-base-lightest: oklch(98% 0 0);         /* Near white */
  --theme-base-light: oklch(90% 0 0);            /* Light gray */
  --theme-base: oklch(66% 0 0);                  /* Medium gray */
  --theme-base-dark: oklch(35% 0 0);             /* Dark gray */
  --theme-base-darkest: oklch(15% 0 0);          /* Near black */
  
  /* Pure Black & White */
  --theme-white: #ffffff;
  --theme-black: #000000;
  
  /* Map to WordPress/Blocksy usage */
  --wp--preset--color--primary-light: var(--theme-primary-light);
  --wp--preset--color--primary: var(--theme-primary);
  --wp--preset--color--primary-dark: var(--theme-primary-dark);
  
  --wp--preset--color--secondary-light: var(--theme-secondary-light);
  --wp--preset--color--secondary: var(--theme-secondary);
  --wp--preset--color--secondary-dark: var(--theme-secondary-dark);
  
  --wp--preset--color--neutral-light: var(--theme-neutral-light);
  --wp--preset--color--neutral: var(--theme-neutral);
  --wp--preset--color--neutral-dark: var(--theme-neutral-dark);
  
  --wp--preset--color--base-lightest: var(--theme-base-lightest);
  --wp--preset--color--base-light: var(--theme-base-light);
  --wp--preset--color--base: var(--theme-base);
  --wp--preset--color--base-dark: var(--theme-base-dark);
  --wp--preset--color--base-darkest: var(--theme-base-darkest);
  
  --wp--preset--color--white: var(--theme-white);
  --wp--preset--color--black: var(--theme-black);
}

/* ==========================================================================
   Semantic Color Aliases for Common Use Cases
   ========================================================================== */

:root {
  /* Text Colors */
  --theme-text-primary: var(--theme-base-darkest);
  --theme-text-secondary: var(--theme-base-dark);
  --theme-text-muted: var(--theme-base);
  --theme-text-inverse: var(--theme-white);
  
  /* Background Colors */
  --theme-bg-primary: var(--theme-white);
  --theme-bg-secondary: var(--theme-base-lightest);
  --theme-bg-tertiary: var(--theme-base-light);
  --theme-bg-inverse: var(--theme-base-darkest);
  
  /* Interactive Elements */
  --theme-link: var(--theme-primary);
  --theme-link-hover: var(--theme-primary-dark);
  --theme-button-primary: var(--theme-primary);
  --theme-button-primary-hover: var(--theme-primary-dark);
  --theme-button-secondary: var(--theme-secondary);
  --theme-button-secondary-hover: var(--theme-secondary-dark);
  
  /* UI Elements */
  --theme-border: var(--theme-base-light);
  --theme-border-focus: var(--theme-primary);
  --theme-shadow: oklch(from var(--theme-base-dark) l c h / 0.1);
  --theme-overlay: oklch(from var(--theme-black) l c h / 0.5);
  
  /* Status Colors (using OKLCH adjustments) */
  --theme-success: oklch(65% 0.15 145);  /* Green */
  --theme-warning: oklch(75% 0.15 85);   /* Yellow */
  --theme-error: oklch(60% 0.15 25);     /* Red */
  --theme-info: var(--theme-primary);
}

/* Fallback for browsers that don't support OKLCH yet */
@supports not (color: oklch(50% 0.2 150)) {
  :root {
    /* Use the hardcoded values from theme.json as fallback */
    --wp--preset--color--primary-50: #f0f4f4;
    --wp--preset--color--primary-100: #d9e3e3;
    --wp--preset--color--primary-200: #b3c7c8;
    --wp--preset--color--primary-300: #8dabac;
    --wp--preset--color--primary-400: #739596;
    --wp--preset--color--primary-500: #5a7f80;
    --wp--preset--color--primary-600: #4e6d6e;
    --wp--preset--color--primary-700: #425a5b;
    --wp--preset--color--primary-800: #364849;
    --wp--preset--color--primary-900: #2a3637;
    --wp--preset--color--primary-950: #1a2122;
  }
}

/* ==========================================================================
   Custom Components Using Theme Variables
   ========================================================================== */

/* Hero Section Enhancements */
.hero-section-block {
  /* Uses theme.json colors */
  background-color: var(--wp--preset--color--neutral-light);
}

.hero-section-block .hero-title {
  /* Uses theme.json font size */
  font-size: var(--wp--preset--font-size--xx-large);
  /* Custom enhancement */
  text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
}

/* Custom Buttons */
.btn-gradient {
  background: var(--wp--preset--gradient--primary-to-secondary);
  color: var(--wp--preset--color--white);
  padding: var(--wp--preset--spacing--20) var(--wp--preset--spacing--40);
  border-radius: 8px;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.btn-gradient:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

/* Card Components */
.custom-card {
  background: var(--wp--preset--color--white);
  border: 1px solid var(--wp--preset--color--neutral-light);
  padding: var(--wp--preset--spacing--40);
  border-radius: 12px;
  transition: all 0.3s ease;
}

.custom-card:hover {
  border-color: var(--wp--preset--color--primary);
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

/* ==========================================================================
   Blocksy Integration
   ========================================================================== */

/* Map Blocksy variables to theme.json variables for consistency */
:root {
  /* Blocksy will still set its own variables, but we can use theme.json ones */
  --theme-primary: var(--wp--preset--color--primary);
  --theme-secondary: var(--wp--preset--color--secondary);
  --theme-text: var(--wp--preset--color--neutral-dark);
  --theme-bg: var(--wp--preset--color--white);
}

/* Override specific Blocksy elements with theme.json values */
.site-header {
  /* Use theme.json spacing */
  padding: var(--wp--preset--spacing--30) 0;
}

.entry-content {
  /* Use theme.json font size */
  font-size: var(--wp--preset--font-size--medium);
  /* Use theme.json line height from custom values */
  line-height: var(--wp--custom--typography--line-height--normal);
}

/* ==========================================================================
   Utility Classes Using Theme.json
   ========================================================================== */

/* Background Colors */
.bg-primary { background-color: var(--wp--preset--color--primary) !important; }
.bg-secondary { background-color: var(--wp--preset--color--secondary) !important; }
.bg-accent { background-color: var(--wp--preset--color--accent) !important; }
.bg-neutral { background-color: var(--wp--preset--color--neutral) !important; }
.bg-neutral-light { background-color: var(--wp--preset--color--neutral-light) !important; }

/* Text Colors */
.text-primary { color: var(--wp--preset--color--primary) !important; }
.text-secondary { color: var(--wp--preset--color--secondary) !important; }
.text-accent { color: var(--wp--preset--color--accent) !important; }
.text-neutral { color: var(--wp--preset--color--neutral) !important; }

/* Spacing Utilities */
.mt-10 { margin-top: var(--wp--preset--spacing--10) !important; }
.mt-20 { margin-top: var(--wp--preset--spacing--20) !important; }
.mt-30 { margin-top: var(--wp--preset--spacing--30) !important; }
.mt-40 { margin-top: var(--wp--preset--spacing--40) !important; }

.mb-10 { margin-bottom: var(--wp--preset--spacing--10) !important; }
.mb-20 { margin-bottom: var(--wp--preset--spacing--20) !important; }
.mb-30 { margin-bottom: var(--wp--preset--spacing--30) !important; }
.mb-40 { margin-bottom: var(--wp--preset--spacing--40) !important; }

.p-10 { padding: var(--wp--preset--spacing--10) !important; }
.p-20 { padding: var(--wp--preset--spacing--20) !important; }
.p-30 { padding: var(--wp--preset--spacing--30) !important; }
.p-40 { padding: var(--wp--preset--spacing--40) !important; }

/* Font Size Utilities */
.text-small { font-size: var(--wp--preset--font-size--small) !important; }
.text-medium { font-size: var(--wp--preset--font-size--medium) !important; }
.text-large { font-size: var(--wp--preset--font-size--large) !important; }
.text-xlarge { font-size: var(--wp--preset--font-size--x-large) !important; }

/* ==========================================================================
   Custom Animations
   ========================================================================== */

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(var(--wp--preset--spacing--20));
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.6s ease-out;
}

/* ==========================================================================
   Responsive Helpers
   ========================================================================== */

@media (max-width: 768px) {
  :root {
    /* Adjust custom spacing for mobile */
    --wp--custom--spacing--outer: var(--wp--preset--spacing--20);
  }
  
  .hide-mobile {
    display: none !important;
  }
}

@media (min-width: 769px) {
  .show-mobile-only {
    display: none !important;
  }
}
