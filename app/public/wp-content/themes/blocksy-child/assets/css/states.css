/**
 * State Components
 * Loading states, empty states, and other UI states
 */

/* ==========================================================================
   View Controls
   ========================================================================== */

.view-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--view-controls-spacing, var(--spacing-6));
  padding: var(--view-controls-padding, var(--spacing-4));
  background-color: oklch(var(--muted));
  border-radius: var(--radius-md);
}

.view-controls__count {
  font-size: var(--font-size-sm);
  color: oklch(var(--muted-foreground));
}

.view-controls__count strong {
  color: oklch(var(--foreground));
  font-weight: var(--font-weight-semibold);
}

.view-controls__actions {
  display: flex;
  align-items: center;
  gap: var(--spacing-4);
}

/* View Switcher */
.view-switcher {
  display: flex;
  gap: var(--view-switcher-gap, var(--spacing-2));
  padding: var(--view-switcher-padding, var(--spacing-1));
  background-color: oklch(var(--background));
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-sm);
}

.view-switcher__btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--view-switcher-btn-size, var(--spacing-8));
  height: var(--view-switcher-btn-size, var(--spacing-8));
  background-color: transparent;
  border: none;
  border-radius: var(--radius-sm);
  color: oklch(var(--muted-foreground));
  cursor: pointer;
  transition: all var(--transition-fast);
}

.view-switcher__btn:hover {
  background-color: oklch(var(--muted));
  color: oklch(var(--foreground));
}

.view-switcher__btn.is-active {
  background-color: oklch(var(--primary));
  color: oklch(var(--primary-foreground));
}

.view-switcher__icon {
  font-size: var(--view-switcher-icon-size, var(--font-size-lg));
}

/* Sort Dropdown */
.sort-control {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
}

.sort-control__label {
  font-size: var(--font-size-sm);
  color: oklch(var(--muted-foreground));
  white-space: nowrap;
}

.sort-control__select {
  padding: var(--spacing-2) var(--spacing-3);
  padding-right: var(--spacing-8);
  font-size: var(--font-size-sm);
  background-color: oklch(var(--background));
  border: var(--border-width) solid oklch(var(--border));
  border-radius: var(--radius-sm);
  cursor: pointer;
  appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='currentColor' d='M10.293 3.293L6 7.586 1.707 3.293A1 1 0 00.293 4.707l5 5a1 1 0 001.414 0l5-5a1 1 0 10-1.414-1.414z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right var(--spacing-2) center;
  background-size: var(--spacing-4);
}

/* ==========================================================================
   Empty States
   ========================================================================== */

.empty-state {
  text-align: center;
  padding: var(--empty-state-padding, var(--spacing-12) var(--spacing-4));
  background-color: oklch(var(--muted));
  border-radius: var(--radius-md);
  border: var(--border-width-2) dashed oklch(var(--border));
}

.empty-state__icon {
  font-size: var(--empty-state-icon-size, var(--font-size-3xl));
  color: oklch(var(--muted-foreground));
  margin-bottom: var(--spacing-4);
}

.empty-state__title {
  font-size: var(--empty-state-title-size, var(--font-size-xl));
  font-weight: var(--font-weight-semibold);
  color: oklch(var(--foreground));
  margin-bottom: var(--spacing-2);
}

.empty-state__message {
  font-size: var(--font-size-sm);
  color: oklch(var(--muted-foreground));
  max-width: var(--empty-state-message-width, 25rem);
  margin: 0 auto var(--spacing-6);
}

.empty-state__actions {
  display: flex;
  gap: var(--spacing-3);
  justify-content: center;
}

/* Empty State Variants */
.empty-state--compact {
  padding: var(--spacing-8) var(--spacing-4);
}

.empty-state--no-border {
  border: none;
  background-color: transparent;
}

/* ==========================================================================
   Loading States
   ========================================================================== */

.loading-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--loading-state-padding, var(--spacing-12));
  min-height: var(--loading-state-min-height, 12.5rem);
}

.loading-state__spinner {
  width: var(--loading-spinner-size, var(--spacing-10));
  height: var(--loading-spinner-size, var(--spacing-10));
  border: var(--border-width-thick) solid oklch(var(--border));
  border-top-color: oklch(var(--primary));
  border-radius: var(--radius-full);
  animation: spinner var(--animation-duration-base) linear infinite;
}

.loading-state__text {
  margin-top: var(--spacing-4);
  font-size: var(--font-size-sm);
  color: oklch(var(--muted-foreground));
}

/* Loading Dots */
.loading-dots {
  display: inline-flex;
  gap: var(--spacing-1);
}

.loading-dots__dot {
  width: var(--spacing-2);
  height: var(--spacing-2);
  background-color: oklch(var(--primary));
  border-radius: var(--radius-full);
  animation: loading-bounce var(--animation-duration-slow) ease-in-out infinite both;
}

.loading-dots__dot:nth-child(1) {
  animation-delay: calc(var(--animation-delay-base) * -2);
}

.loading-dots__dot:nth-child(2) {
  animation-delay: var(--animation-delay-base);
}

/* Loading Bar */
.loading-bar {
  width: 100%;
  height: var(--loading-bar-height, var(--spacing-1));
  background-color: oklch(var(--border));
  border-radius: var(--radius-full);
  overflow: hidden;
}

.loading-bar__progress {
  height: 100%;
  background-color: oklch(var(--primary));
  border-radius: var(--radius-full);
  animation: loading-progress var(--animation-duration-slower) ease-in-out infinite;
}

/* Skeleton Loading */
.skeleton {
  background: linear-gradient(
    90deg,
    oklch(var(--border)) 25%,
    oklch(calc(var(--border-l) + var(--lighten-10)) var(--border-c) var(--border-h)) 50%,
    oklch(var(--border)) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading var(--animation-duration-slow) ease-in-out infinite;
  border-radius: var(--radius-sm);
}

.skeleton--text {
  height: var(--spacing-4);
  margin-bottom: var(--spacing-2);
}

.skeleton--title {
  height: var(--spacing-6);
  width: 50%;
  margin-bottom: var(--spacing-3);
}

.skeleton--image {
  aspect-ratio: 16/9;
  width: 100%;
}

.skeleton--button {
  height: var(--spacing-10);
  width: var(--spacing-24);
}

/* ==========================================================================
   Error States
   ========================================================================== */

.error-state {
  padding: var(--error-state-padding, var(--spacing-6));
  background-color: oklch(calc(var(--destructive-l) + var(--lighten-45)) var(--destructive-c) var(--destructive-h));
  border: var(--border-width) solid oklch(var(--destructive));
  border-radius: var(--radius-md);
  color: oklch(var(--destructive));
}

.error-state__icon {
  font-size: var(--error-state-icon-size, var(--font-size-xl));
  margin-bottom: var(--spacing-2);
}

.error-state__title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--spacing-2);
}

.error-state__message {
  font-size: var(--font-size-sm);
  line-height: var(--line-height-relaxed);
}

.error-state__actions {
  margin-top: var(--spacing-4);
  display: flex;
  gap: var(--spacing-3);
}

/* ==========================================================================
   Success States
   ========================================================================== */

.success-state {
  padding: var(--success-state-padding, var(--spacing-6));
  background-color: oklch(calc(var(--success-l) + var(--lighten-45)) var(--success-c) var(--success-h));
  border: var(--border-width) solid oklch(var(--success));
  border-radius: var(--radius-md);
  color: oklch(var(--success));
}

.success-state__icon {
  font-size: var(--success-state-icon-size, var(--font-size-xl));
  margin-bottom: var(--spacing-2);
}

.success-state__title {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  margin-bottom: var(--spacing-2);
}

.success-state__message {
  font-size: var(--font-size-sm);
  line-height: var(--line-height-relaxed);
}

/* ==========================================================================
   Animations
   ========================================================================== */

@keyframes spinner {
  to {
    transform: rotate(360deg);
  }
}

@keyframes loading-bounce {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

@keyframes loading-progress {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes skeleton-loading {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}
