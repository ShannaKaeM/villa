{% set type = type|default('body') %}
{% set size = size|default('medium') %}
{% set weight = weight|default('regular') %}
{% set color = color|default('base') %}
{% set transform = transform|default('normal') %}
{% set spacing = spacing|default('normal') %}

{% set classes = {
    'pretitle': 'text-sm font-medium uppercase tracking-wider text-primary',
    'title': 'text-xl font-bold',
    'subtitle': 'text-lg font-semibold',
    'section-title': 'text-2xl font-bold mb-4',
    'body': 'text-base',
    'caption': 'text-sm text-neutral',
    'button': 'font-medium'
} %}

{% set text_classes = classes[type]|default('text-base') %}

{% set style_classes = {
    'size': {
        'small': 'text-sm',
        'medium': 'text-base',
        'large': 'text-lg',
        'x-large': 'text-xl',
        'xx-large': 'text-2xl',
        'huge': 'text-6xl'
    },
    'weight': {
        'regular': 'font-normal',
        'medium': 'font-medium',
        'semiBold': 'font-semibold',
        'bold': 'font-bold',
        'extraBold': 'font-extrabold'
    },
    'color': {
        'primary': 'text-primary',
        'secondary': 'text-secondary',
        'neutral': 'text-neutral',
        'base': 'text-base',
        'base-light': 'text-base-light',
        'base-dark': 'text-base-dark'
    },
    'transform': {
        'uppercase': 'uppercase',
        'lowercase': 'lowercase',
        'capitalize': 'capitalize'
    },
    'spacing': {
        'tight': 'tracking-tight',
        'normal': 'tracking-normal',
        'wide': 'tracking-wide',
        'wider': 'tracking-wider',
        'widest': 'tracking-widest'
    }
} %}

{% set final_classes = text_classes ~ ' ' ~ 
    style_classes.size[size] ~ ' ' ~
    style_classes.weight[weight] ~ ' ' ~
    style_classes.color[color] ~ ' ' ~
    style_classes.transform[transform] ~ ' ' ~
    style_classes.spacing[spacing]
%}

{% if type == 'pretitle' %}
    <div class="{{ final_classes }}"{% if attributes %} {{ attributes }}{% endif %}>
        {{ content|default('') }}
    </div>
{% elseif type == 'title' %}
    <h2 class="{{ final_classes }}"{% if attributes %} {{ attributes }}{% endif %}>
        {{ content|default('') }}
    </h2>
{% elseif type == 'subtitle' %}
    <h3 class="{{ final_classes }}"{% if attributes %} {{ attributes }}{% endif %}>
        {{ content|default('') }}
    </h3>
{% elseif type == 'section-title' %}
    <h3 class="{{ final_classes }}"{% if attributes %} {{ attributes }}{% endif %}>
        {{ content|default('') }}
    </h3>
{% elseif type == 'caption' %}
    <p class="{{ final_classes }}"{% if attributes %} {{ attributes }}{% endif %}>
        {{ content|default('') }}
    </p>
{% elseif type == 'button' %}
    <span class="{{ final_classes }}"{% if attributes %} {{ attributes }}{% endif %}>
        {{ content|default('') }}
    </span>
{% else %}
    <p class="{{ final_classes }}"{% if attributes %} {{ attributes }}{% endif %}>
        {{ content|default('') }}
    </p>
{% endif %}
