{% extends "base.twig" %}

{% block content %}
<div class="villa-design-book typography-book">
    <div class="design-book-layout">
        
        {# Design Book Header #}
        <div class="design-book-header">
            <div class="header-content">
                <div class="breadcrumbs">
                    {% for crumb in design_book.breadcrumbs %}
                        {% if crumb.url %}
                            <a href="{{ crumb.url }}">{{ crumb.name }}</a>
                        {% else %}
                            <span>{{ crumb.name }}</span>
                        {% endif %}
                        {% if not loop.last %} / {% endif %}
                    {% endfor %}
                </div>
                <h1 class="design-book-title">{{ design_book.section_config.name }}</h1>
                <p class="design-book-description">Edit foundational typography design tokens that power all text elements</p>
            </div>
        </div>

        {# Full Width Header Bar with Tabs and Actions #}
        <div class="typography-header-bar">
            <div class="tab-navigation">
                <button class="tab-button active" data-tab="font-families">Font Families</button>
                <button class="tab-button" data-tab="font-sizes">Font Sizes</button>
                <button class="tab-button" data-tab="font-weights">Font Weights</button>
                <button class="tab-button" data-tab="line-heights">Line Heights</button>
                <button class="tab-button" data-tab="letter-spacing">Letter Spacing</button>
            </div>
            <div class="header-actions-compact">
                <button class="btn-compact btn-secondary" id="reset-typography">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <polyline points="23 4 23 10 17 10"/>
                        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                    </svg>
                    Reset
                </button>
                <button class="btn-compact btn-primary" id="save-typography">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                        <polyline points="17,21 17,13 7,13 7,21"/>
                        <polyline points="7,3 7,8 15,8"/>
                    </svg>
                    Save
                </button>
            </div>
        </div>

        {# Split Screen Layout #}
        <div class="typography-split-layout">
            
            {# Left Panel - Controls #}
            <div class="typography-controls-panel">
                
                {# Font Families Tab #}
                <div class="tab-content active" id="font-families-tab">
                    <div class="typography-section">
                        <h3>Font Families</h3>
                        <p class="section-description">Define the core font families used throughout your design system.</p>
                        
                        <div class="primitives-grid">
                            <div class="primitive-group">
                                <h4>Primary Fonts</h4>
                                <div class="primitive-controls">
                                    <div class="font-control">
                                        <label>Primary Font</label>
                                        <select id="primary-font">
                                            <option value="Montserrat" selected>Montserrat</option>
                                            <option value="Inter">Inter</option>
                                            <option value="Roboto">Roboto</option>
                                            <option value="Open Sans">Open Sans</option>
                                            <option value="Lato">Lato</option>
                                        </select>
                                    </div>
                                    <div class="font-control">
                                        <label>Display Font</label>
                                        <select id="display-font">
                                            <option value="Montserrat" selected>Montserrat</option>
                                            <option value="Playfair Display">Playfair Display</option>
                                            <option value="Merriweather">Merriweather</option>
                                            <option value="Lora">Lora</option>
                                        </select>
                                    </div>
                                    <div class="font-control">
                                        <label>Monospace Font</label>
                                        <select id="mono-font">
                                            <option value="Roboto Mono" selected>Roboto Mono</option>
                                            <option value="Fira Code">Fira Code</option>
                                            <option value="Source Code Pro">Source Code Pro</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                {# Font Sizes Tab #}
                <div class="tab-content" id="font-sizes-tab">
                    <div class="typography-section">
                        <h3>Font Sizes</h3>
                        <p class="section-description">Define global font sizes that will be composed into semantic text styles in TextBook components.</p>
                        
                        <div class="primitives-grid">
                            {# Font Sizes #}
                            <div class="primitive-group">
                                <h4>Font Sizes</h4>
                                <div class="primitive-controls">
                                    <div class="size-control">
                                        <label>XS</label>
                                        <input type="number" value="0.75" min="0.5" max="1.25" step="0.05" data-size="xs">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>SM</label>
                                        <input type="number" value="0.875" min="0.625" max="1.375" step="0.05" data-size="sm">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>Base</label>
                                        <input type="number" value="1" min="0.75" max="1.5" step="0.05" data-size="base">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>LG</label>
                                        <input type="number" value="1.125" min="0.875" max="1.75" step="0.05" data-size="lg">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>XL</label>
                                        <input type="number" value="1.25" min="1" max="2" step="0.05" data-size="xl">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>2XL</label>
                                        <input type="number" value="1.5" min="1.25" max="2.5" step="0.05" data-size="2xl">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>3XL</label>
                                        <input type="number" value="1.875" min="1.5" max="3" step="0.05" data-size="3xl">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>4XL</label>
                                        <input type="number" value="2.25" min="1.875" max="3.75" step="0.05" data-size="4xl">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>5XL</label>
                                        <input type="number" value="3" min="2.25" max="5" step="0.05" data-size="5xl">
                                        <span>rem</span>
                                    </div>
                                    <div class="size-control">
                                        <label>6XL</label>
                                        <input type="number" value="3.75" min="3" max="6.25" step="0.05" data-size="6xl">
                                        <span>rem</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                {# Font Weights Tab #}
                <div class="tab-content" id="font-weights-tab">
                    <div class="typography-section">
                        <h3>Font Weights</h3>
                        <p class="section-description">Define font weight values for consistent typography hierarchy.</p>
                        
                        <div class="primitives-grid">
                            <div class="primitive-group">
                                <h4>Font Weights</h4>
                                <div class="primitive-controls">
                                    <div class="weight-control">
                                        <label>Light</label>
                                        <select data-weight="light">
                                            <option value="300" selected>300 - Light</option>
                                            <option value="400">400 - Regular</option>
                                            <option value="500">500 - Medium</option>
                                            <option value="600">600 - Semibold</option>
                                            <option value="700">700 - Bold</option>
                                            <option value="800">800 - Extra Bold</option>
                                            <option value="900">900 - Black</option>
                                        </select>
                                    </div>
                                    <div class="weight-control">
                                        <label>Regular</label>
                                        <select data-weight="regular">
                                            <option value="300">300 - Light</option>
                                            <option value="400" selected>400 - Regular</option>
                                            <option value="500">500 - Medium</option>
                                            <option value="600">600 - Semibold</option>
                                            <option value="700">700 - Bold</option>
                                            <option value="800">800 - Extra Bold</option>
                                            <option value="900">900 - Black</option>
                                        </select>
                                    </div>
                                    <div class="weight-control">
                                        <label>Medium</label>
                                        <select data-weight="medium">
                                            <option value="300">300 - Light</option>
                                            <option value="400">400 - Regular</option>
                                            <option value="500" selected>500 - Medium</option>
                                            <option value="600">600 - Semibold</option>
                                            <option value="700">700 - Bold</option>
                                            <option value="800">800 - Extra Bold</option>
                                            <option value="900">900 - Black</option>
                                        </select>
                                    </div>
                                    <div class="weight-control">
                                        <label>Semibold</label>
                                        <select data-weight="semibold">
                                            <option value="300">300 - Light</option>
                                            <option value="400">400 - Regular</option>
                                            <option value="500">500 - Medium</option>
                                            <option value="600" selected>600 - Semibold</option>
                                            <option value="700">700 - Bold</option>
                                            <option value="800">800 - Extra Bold</option>
                                            <option value="900">900 - Black</option>
                                        </select>
                                    </div>
                                    <div class="weight-control">
                                        <label>Bold</label>
                                        <select data-weight="bold">
                                            <option value="300">300 - Light</option>
                                            <option value="400">400 - Regular</option>
                                            <option value="500">500 - Medium</option>
                                            <option value="600">600 - Semibold</option>
                                            <option value="700" selected>700 - Bold</option>
                                            <option value="800">800 - Extra Bold</option>
                                            <option value="900">900 - Black</option>
                                        </select>
                                    </div>
                                    <div class="weight-control">
                                        <label>Extra Bold</label>
                                        <select data-weight="extrabold">
                                            <option value="300">300 - Light</option>
                                            <option value="400">400 - Regular</option>
                                            <option value="500">500 - Medium</option>
                                            <option value="600">600 - Semibold</option>
                                            <option value="700">700 - Bold</option>
                                            <option value="800" selected>800 - Extra Bold</option>
                                            <option value="900">900 - Black</option>
                                        </select>
                                    </div>
                                    <div class="weight-control">
                                        <label>Black</label>
                                        <select data-weight="black">
                                            <option value="300">300 - Light</option>
                                            <option value="400">400 - Regular</option>
                                            <option value="500">500 - Medium</option>
                                            <option value="600">600 - Semibold</option>
                                            <option value="700">700 - Bold</option>
                                            <option value="800">800 - Extra Bold</option>
                                            <option value="900" selected>900 - Black</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                {# Line Heights Tab #}
                <div class="tab-content" id="line-heights-tab">
                    <div class="typography-section">
                        <h3>Line Heights</h3>
                        <p class="section-description">Define line height values for optimal readability and spacing.</p>
                        
                        <div class="primitives-grid">
                            <div class="primitive-group">
                                <h4>Line Heights</h4>
                                <div class="primitive-controls">
                                    <div class="line-height-control">
                                        <label>Tight</label>
                                        <input type="number" value="1.2" min="1" max="2" step="0.1" data-line-height="tight">
                                    </div>
                                    <div class="line-height-control">
                                        <label>Normal</label>
                                        <input type="number" value="1.5" min="1" max="2" step="0.1" data-line-height="normal">
                                    </div>
                                    <div class="line-height-control">
                                        <label>Relaxed</label>
                                        <input type="number" value="1.75" min="1" max="2" step="0.1" data-line-height="relaxed">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                {# Letter Spacing Tab #}
                <div class="tab-content" id="letter-spacing-tab">
                    <div class="typography-section">
                        <h3>Letter Spacing</h3>
                        <p class="section-description">Define letter spacing values for fine-tuned typography control.</p>
                        
                        <div class="primitives-grid">
                            <div class="primitive-group">
                                <h4>Letter Spacing</h4>
                                <div class="primitive-controls">
                                    <div class="letter-spacing-control">
                                        <label>Tight</label>
                                        <input type="number" value="-0.025" min="-0.1" max="0.1" step="0.005" data-letter-spacing="tight">
                                        <span>em</span>
                                    </div>
                                    <div class="letter-spacing-control">
                                        <label>Normal</label>
                                        <input type="number" value="0" min="-0.1" max="0.1" step="0.005" data-letter-spacing="normal">
                                        <span>em</span>
                                    </div>
                                    <div class="letter-spacing-control">
                                        <label>Wide</label>
                                        <input type="number" value="0.05" min="-0.1" max="0.1" step="0.005" data-letter-spacing="wide">
                                        <span>em</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {# Right Panel - Live Preview #}
            <div class="typography-preview-panel">
                
                {# Font Families Preview - shown when font-families tab is active #}
                <div class="preview-content font-families-preview active">
                    <div class="font-sidebar">
                        <div class="font-section">
                            <div class="font-label">Primary</div>
                            <div class="font-divider"></div>
                            <div class="font-display" id="primary-font-display">Montserrat</div>
                        </div>
                        
                        <div class="font-section">
                            <div class="font-label">Display</div>
                            <div class="font-divider"></div>
                            <div class="font-display" id="display-font-display">Montserrat</div>
                        </div>
                        
                        <div class="font-section">
                            <div class="font-label">Monospace</div>
                            <div class="font-divider"></div>
                            <div class="font-display" id="mono-font-display">Roboto Mono</div>
                        </div>
                    </div>
                </div>
                
                {# Font Sizes Preview - shown when font-sizes tab is active #}
                <div class="preview-content font-sizes-preview">
                    <div class="font-sidebar">
                        <div class="size-section">
                            <div class="size-label">XS</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-xs);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">SM</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-sm);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">Base</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-base);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">LG</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-lg);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">XL</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-xl);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">2XL</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-2xl);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">3XL</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-3xl);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">4XL</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-4xl);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">5XL</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-5xl);">Typography</div>
                        </div>
                        
                        <div class="size-section">
                            <div class="size-label">6XL</div>
                            <div class="size-divider"></div>
                            <div class="size-display" style="font-size: var(--db-text-6xl);">Typography</div>
                        </div>
                    </div>
                </div>
                
                {# Font Weights Preview - shown when font-weights tab is active #}
                <div class="preview-content font-weights-preview">
                    <div class="font-sidebar">
                        <div class="weight-section">
                            <div class="weight-label">Light</div>
                            <div class="weight-divider"></div>
                            <div class="weight-display" style="font-weight: var(--db-weight-light);">Typography</div>
                        </div>
                        
                        <div class="weight-section">
                            <div class="weight-label">Regular</div>
                            <div class="weight-divider"></div>
                            <div class="weight-display" style="font-weight: var(--db-weight-regular);">Typography</div>
                        </div>
                        
                        <div class="weight-section">
                            <div class="weight-label">Medium</div>
                            <div class="weight-divider"></div>
                            <div class="weight-display" style="font-weight: var(--db-weight-medium);">Typography</div>
                        </div>
                        
                        <div class="weight-section">
                            <div class="weight-label">Semibold</div>
                            <div class="weight-divider"></div>
                            <div class="weight-display" style="font-weight: var(--db-weight-semibold);">Typography</div>
                        </div>
                        
                        <div class="weight-section">
                            <div class="weight-label">Bold</div>
                            <div class="weight-divider"></div>
                            <div class="weight-display" style="font-weight: var(--db-weight-bold);">Typography</div>
                        </div>
                        
                        <div class="weight-section">
                            <div class="weight-label">Extra Bold</div>
                            <div class="weight-divider"></div>
                            <div class="weight-display" style="font-weight: var(--db-weight-extrabold);">Typography</div>
                        </div>
                        
                        <div class="weight-section">
                            <div class="weight-label">Black</div>
                            <div class="weight-divider"></div>
                            <div class="weight-display" style="font-weight: var(--db-weight-black);">Typography</div>
                        </div>
                    </div>
                </div>
                
                {# Line Heights Preview - shown when line-heights tab is active #}
                <div class="preview-content line-heights-preview">
                    <div class="font-sidebar">
                        <div class="line-height-section">
                            <div class="line-height-label">Tight</div>
                            <div class="line-height-divider"></div>
                            <div class="line-height-display" style="line-height: var(--db-leading-tight);">Typography with multiple lines to show line height spacing and how text flows</div>
                        </div>
                        
                        <div class="line-height-section">
                            <div class="line-height-label">Normal</div>
                            <div class="line-height-divider"></div>
                            <div class="line-height-display" style="line-height: var(--db-leading-normal);">Typography with multiple lines to show line height spacing and how text flows</div>
                        </div>
                        
                        <div class="line-height-section">
                            <div class="line-height-label">Relaxed</div>
                            <div class="line-height-divider"></div>
                            <div class="line-height-display" style="line-height: var(--db-leading-relaxed);">Typography with multiple lines to show line height spacing and how text flows</div>
                        </div>
                    </div>
                </div>
                
                {# Letter Spacing Preview - shown when letter-spacing tab is active #}
                <div class="preview-content letter-spacing-preview">
                    <div class="font-sidebar">
                        <div class="spacing-section">
                            <div class="spacing-label">Tight</div>
                            <div class="spacing-divider"></div>
                            <div class="spacing-display" style="letter-spacing: var(--db-tracking-tight);">TYPOGRAPHY</div>
                        </div>
                        
                        <div class="spacing-section">
                            <div class="spacing-label">Normal</div>
                            <div class="spacing-divider"></div>
                            <div class="spacing-display" style="letter-spacing: var(--db-tracking-normal);">TYPOGRAPHY</div>
                        </div>
                        
                        <div class="spacing-section">
                            <div class="spacing-label">Wide</div>
                            <div class="spacing-divider"></div>
                            <div class="spacing-display" style="letter-spacing: var(--db-tracking-wide);">TYPOGRAPHY</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}
